(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.1' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[      7225,        196]
NotebookOptionsPosition[      5982,        172]
NotebookOutlinePosition[      6341,        188]
CellTagsIndexPosition[      6298,        185]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[
 RowBox[{
  RowBox[{"res", "=", 
   RowBox[{"Import", "/@", 
    RowBox[{"FileNames", "[", 
     RowBox[{"\"\<*.csv\>\"", ",", 
      RowBox[{
      "{", "\"\</Users/scherf/projects/hMRI/quantitative-ex-vivo-histology/\
results/orientation-myelin/tiled_orientation_analysis/\>\"", "}"}]}], 
     "]"}]}]}], ";"}]], "Input",
 CellChangeTimes->{{3.709541440920134*^9, 3.709541463494151*^9}, {
  3.709542295204047*^9, 3.709542295383203*^9}, {3.70954256638766*^9, 
  3.709542578969719*^9}, {3.709543892539576*^9, 3.7095439181441307`*^9}, {
  3.709544099678673*^9, 3.709544140368621*^9}, {3.709544298652355*^9, 
  3.70954429991597*^9}, {3.709880829849779*^9, 
  3.709880874270577*^9}},ExpressionUUID->"bba9e9b3-91de-4638-b77f-\
00a228e6252a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"fnames", "=", 
   RowBox[{"FileNames", "[", 
    RowBox[{"\"\<*.csv\>\"", ",", 
     RowBox[{
     "{", "\"\</Users/scherf/projects/hMRI/quantitative-ex-vivo-histology/\
results/orientation-myelin/tiled_orientation_analysis/\>\"", "}"}]}], "]"}]}],
   ";"}]], "Input",
 CellChangeTimes->{{3.709880903382753*^9, 
  3.7098809041051903`*^9}},ExpressionUUID->"d0f53fc1-3018-441e-9427-\
aa5c4c73d2d1"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "processFile", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"processFile", "[", "name_", "]"}], ":=", 
  RowBox[{"Module", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"coords", ",", "hist"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"coords", " ", "=", " ", 
      RowBox[{"(", 
       RowBox[{"ToExpression", "/@", 
        RowBox[{"StringCases", "[", 
         RowBox[{"name", ",", 
          RowBox[{"RegularExpression", "[", "\"\<[0-9]+\>\"", "]"}]}], 
         "]"}]}], ")"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"hist", "=", 
      RowBox[{"Import", "[", "name", "]"}]}]}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",
 CellChangeTimes->{{3.709881738955805*^9, 
  3.709881810956704*^9}},ExpressionUUID->"3f9a4321-94f5-48f3-8e2d-\
ae9484e19a72"],

Cell[BoxData[
 RowBox[{"Manipulate", "[", 
  RowBox[{
   RowBox[{"ListLinePlot", "[", 
    RowBox[{
     RowBox[{"processFile", "[", 
      RowBox[{"fnames", "[", 
       RowBox[{"[", "i", "]"}], "]"}], "]"}], ",", 
     RowBox[{"PlotRange", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{"0", ",", ".21"}], "}"}]}]}], "]"}], ",", 
   RowBox[{"{", 
    RowBox[{"i", ",", "1", ",", 
     RowBox[{"Length", "[", "fnames", "]"}], ",", "1"}], "}"}]}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.709881813977695*^9, 3.709881824912847*^9}, {
  3.709882398960546*^9, 3.70988241361609*^9}, {3.709882443968533*^9, 
  3.7098825218428383`*^9}},ExpressionUUID->"76b14e51-e4d6-493d-b986-\
58fc7400ee32"],

Cell[BoxData[
 RowBox[{"FindPeaks", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"processFile", "[", 
     RowBox[{"fnames", "[", 
      RowBox[{"[", "27346", "]"}], "]"}], "]"}], "[", 
    RowBox[{"[", "1", "]"}], "]"}], ",", "5"}], "]"}]], "Input",
 CellChangeTimes->{{3.709882120706752*^9, 3.709882167530746*^9}, {
  3.709882254500923*^9, 3.709882259366625*^9}, {3.709882333083127*^9, 
  3.7098823864761887`*^9}, {3.7098825786053333`*^9, 
  3.70988262008812*^9}},ExpressionUUID->"c35ad26e-8e2a-470f-aa03-\
6a6e49254ffb"],

Cell[BoxData[
 RowBox[{"Moment", "[", 
  RowBox[{
   RowBox[{"HistogramDistribution", "[", 
    RowBox[{
     RowBox[{"processFile", "[", 
      RowBox[{"fnames", "[", 
       RowBox[{"[", "27346", "]"}], "]"}], "]"}], "[", 
     RowBox[{"[", "1", "]"}], "]"}], "]"}], ",", "2"}], "]"}]], "Input",
 CellChangeTimes->{{3.709882635535055*^9, 3.709882636735374*^9}, {
  3.709882670798037*^9, 3.7098826771764917`*^9}, {3.709882753366116*^9, 
  3.709882753814582*^9}, {3.709882905778076*^9, 
  3.709882944509544*^9}},ExpressionUUID->"8e2c1e01-529c-4d82-ac3c-\
615514085b04"],

Cell[BoxData[
 RowBox[{"Mean", "[", 
  RowBox[{
   RowBox[{"processFile", "[", 
    RowBox[{"fnames", "[", 
     RowBox[{"[", "27346", "]"}], "]"}], "]"}], "[", 
   RowBox[{"[", "1", "]"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.709882759557468*^9, 
  3.7098827656133347`*^9}},ExpressionUUID->"01869d23-fa4a-4021-8b70-\
bd080a3acdc0"],

Cell[BoxData[
 RowBox[{"\[ScriptCapitalH]", "[", 
  RowBox[{"\"\<TestDataTable\>\"", ",", "All"}], "]"}]], "Input",
 CellChangeTimes->{{3.7098821764118147`*^9, 
  3.70988217642266*^9}},ExpressionUUID->"86dbe74c-a9c1-4c8a-972b-\
fb7c8bee40d0"],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.7098820176403723`*^9, 3.7098820486144867`*^9}, 
   3.709882095368628*^9},ExpressionUUID->"62f85174-a072-4ea8-96fe-\
405d042a0b15"],

Cell[BoxData[
 RowBox[{"Show", "[", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"ListLinePlot", "[", 
      RowBox[{"#", ",", 
       RowBox[{"PlotStyle", "\[Rule]", 
        RowBox[{"Hue", "[", 
         RowBox[{"RandomReal", "[", "]"}], "]"}]}]}], "]"}], "&"}], "/@", 
    RowBox[{"Select", "[", 
     RowBox[{"res", ",", 
      RowBox[{
       RowBox[{"FreeQ", "[", 
        RowBox[{"#", ",", "NaN"}], "]"}], "&"}]}], "]"}]}], ",", 
   RowBox[{"PlotRange", "\[Rule]", "All"}]}], "]"}]], "Input",ExpressionUUID->\
"f75c247c-faa5-46a2-96db-fdb9a5791b0a"],

Cell[BoxData[
 RowBox[{"res", "[", 
  RowBox[{"[", "1", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.709544255116453*^9, 3.709544255397931*^9}, {
  3.70988160651191*^9, 
  3.709881607028275*^9}},ExpressionUUID->"2246ca35-8f6b-4dea-9e92-\
142debd5030c"]
},
WindowSize->{808, 911},
WindowMargins->{{78, Automatic}, {Automatic, 91}},
FrontEndVersion->"11.2 for Mac OS X x86 (32-bit, 64-bit Kernel) (September \
10, 2017)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 751, 16, 94, "Input",ExpressionUUID->"bba9e9b3-91de-4638-b77f-00a228e6252a"],
Cell[1312, 38, 431, 11, 73, "Input",ExpressionUUID->"d0f53fc1-3018-441e-9427-aa5c4c73d2d1"],
Cell[1746, 51, 855, 21, 136, "Input",ExpressionUUID->"3f9a4321-94f5-48f3-8e2d-ae9484e19a72"],
Cell[2604, 74, 689, 18, 52, "Input",ExpressionUUID->"76b14e51-e4d6-493d-b986-58fc7400ee32"],
Cell[3296, 94, 519, 12, 30, "Input",ExpressionUUID->"c35ad26e-8e2a-470f-aa03-6a6e49254ffb"],
Cell[3818, 108, 569, 13, 30, "Input",ExpressionUUID->"8e2c1e01-529c-4d82-ac3c-615514085b04"],
Cell[4390, 123, 341, 9, 30, "Input",ExpressionUUID->"01869d23-fa4a-4021-8b70-bd080a3acdc0"],
Cell[4734, 134, 242, 5, 30, "Input",ExpressionUUID->"86dbe74c-a9c1-4c8a-972b-fb7c8bee40d0"],
Cell[4979, 141, 179, 3, 30, "Input",ExpressionUUID->"62f85174-a072-4ea8-96fe-405d042a0b15"],
Cell[5161, 146, 561, 16, 52, "Input",ExpressionUUID->"f75c247c-faa5-46a2-96db-fdb9a5791b0a"],
Cell[5725, 164, 253, 6, 30, "Input",ExpressionUUID->"2246ca35-8f6b-4dea-9e92-142debd5030c"]
}
]
*)

